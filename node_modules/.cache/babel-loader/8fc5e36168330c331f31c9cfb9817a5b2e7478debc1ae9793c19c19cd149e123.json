{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reselect = require(\"reselect\");\nvar _warning = _interopRequireDefault(require(\"warning\"));\nvar _ZoomButtons = _interopRequireDefault(require(\"./ZoomButtons\"));\nvar _StateDebugView = _interopRequireDefault(require(\"./StateDebugView\"));\nvar _Utils = require(\"./Utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar OVERZOOM_TOLERANCE = 0.05;\nvar DOUBLE_TAP_THRESHOLD = 250;\nvar ANIMATION_SPEED = 0.1;\nvar isInitialized = function isInitialized(top, left, scale) {\n  return scale !== undefined && left !== undefined && top !== undefined;\n};\nvar imageStyle = (0, _reselect.createSelector)(function (state) {\n  return state.top;\n}, function (state) {\n  return state.left;\n}, function (state) {\n  return state.scale;\n}, function (top, left, scale) {\n  var style = {\n    cursor: 'pointer'\n  };\n  return isInitialized(top, left, scale) ? _objectSpread({}, style, {\n    transform: \"translate3d(\".concat(left, \"px, \").concat(top, \"px, 0) scale(\").concat(scale, \")\"),\n    transformOrigin: '0 0'\n  }) : style;\n});\nvar imageOverflow = (0, _reselect.createSelector)(function (state) {\n  return state.top;\n}, function (state) {\n  return state.left;\n}, function (state) {\n  return state.scale;\n}, function (state) {\n  return state.imageDimensions;\n}, function (state) {\n  return state.containerDimensions;\n}, function (top, left, scale, imageDimensions, containerDimensions) {\n  if (!isInitialized(top, left, scale)) {\n    return '';\n  }\n  return (0, _Utils.getImageOverflow)(top, left, scale, imageDimensions, containerDimensions);\n});\nvar browserPanActions = (0, _reselect.createSelector)(imageOverflow, function (imageOverflow) {\n  //Determine the panning directions where there is no image overflow and let\n  //the browser handle those directions (e.g., scroll viewport if possible).\n  //Need to replace 'pan-left pan-right' with 'pan-x', etc. otherwise \n  //it is rejected (o_O), therefore explicitly handle each combination.\n  var browserPanX = !imageOverflow.left && !imageOverflow.right ? 'pan-x' //we can't pan the image horizontally, let the browser take it\n  : !imageOverflow.left ? 'pan-left' : !imageOverflow.right ? 'pan-right' : '';\n  var browserPanY = !imageOverflow.top && !imageOverflow.bottom ? 'pan-y' : !imageOverflow.top ? 'pan-up' : !imageOverflow.bottom ? 'pan-down' : '';\n  return [browserPanX, browserPanY].join(' ').trim();\n}); //Ensure the image is not over-panned, and not over- or under-scaled.\n//These constraints must be checked when image changes, and when container is resized.\n\nvar PinchZoomPan = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PinchZoomPan, _React$Component);\n  function PinchZoomPan() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, PinchZoomPan);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PinchZoomPan)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"lastPointerUpTimeStamp\", void 0);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"lastPanPointerPosition\", void 0);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"lastPinchLength\", void 0);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"animation\", void 0);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"imageRef\", void 0);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isImageLoaded\", void 0);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"originalOverscrollBehaviorY\", void 0);\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleTouchStart\", function (event) {\n      _this.cancelAnimation();\n      var touches = event.touches;\n      if (touches.length === 2) {\n        _this.lastPinchLength = (0, _Utils.getPinchLength)(touches);\n        _this.lastPanPointerPosition = null;\n      } else if (touches.length === 1) {\n        _this.lastPinchLength = null;\n        _this.pointerDown(touches[0]);\n        (0, _Utils.tryCancelEvent)(event); //suppress mouse events\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleTouchMove\", function (event) {\n      var touches = event.touches;\n      if (touches.length === 2) {\n        _this.pinchChange(touches); //suppress viewport scaling on iOS\n\n        (0, _Utils.tryCancelEvent)(event);\n      } else if (touches.length === 1) {\n        var requestedPan = _this.pan(touches[0]);\n        if (!_this.controlOverscrollViaCss) {\n          //let the browser handling panning if we are at the edge of the image in \n          //both pan directions, or if we are primarily panning in one direction\n          //and are at the edge in that directino\n          var overflow = imageOverflow(_this.state);\n          var hasOverflowX = requestedPan.left && overflow.left > 0 || requestedPan.right && overflow.right > 0;\n          var hasOverflowY = requestedPan.up && overflow.top > 0 || requestedPan.down && overflow.bottom > 0;\n          if (!hasOverflowX && !hasOverflowY) {\n            //no overflow in both directions\n            return;\n          }\n          var panX = requestedPan.left || requestedPan.right;\n          var panY = requestedPan.up || requestedPan.down;\n          if (panY > 2 * panX && !hasOverflowY) {\n            //primarily panning up or down and no overflow in the Y direction\n            return;\n          }\n          if (panX > 2 * panY && !hasOverflowX) {\n            //primarily panning left or right and no overflow in the X direction\n            return;\n          }\n          (0, _Utils.tryCancelEvent)(event);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleTouchEnd\", function (event) {\n      _this.cancelAnimation();\n      if (event.touches.length === 0 && event.changedTouches.length === 1) {\n        if (_this.lastPointerUpTimeStamp && _this.lastPointerUpTimeStamp + DOUBLE_TAP_THRESHOLD > event.timeStamp) {\n          var pointerPosition = (0, _Utils.getRelativePosition)(event.changedTouches[0], _this.imageRef.parentNode);\n          _this.doubleClick(pointerPosition);\n        }\n        _this.lastPointerUpTimeStamp = event.timeStamp;\n        (0, _Utils.tryCancelEvent)(event); //suppress mouse events\n      } //We allow transient +/-5% over-pinching.\n      //Animate the bounce back to constraints if applicable.\n\n      _this.maybeAdjustCurrentTransform(ANIMATION_SPEED);\n      return;\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseDown\", function (event) {\n      _this.cancelAnimation();\n      _this.pointerDown(event);\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseMove\", function (event) {\n      if (!event.buttons) return null;\n      _this.pan(event);\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseDoubleClick\", function (event) {\n      _this.cancelAnimation();\n      var pointerPosition = (0, _Utils.getRelativePosition)(event, _this.imageRef.parentNode);\n      _this.doubleClick(pointerPosition);\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseWheel\", function (event) {\n      _this.cancelAnimation();\n      var point = (0, _Utils.getRelativePosition)(event, _this.imageRef.parentNode);\n      if (event.deltaY > 0) {\n        if (_this.state.scale > (0, _Utils.getMinScale)(_this.state, _this.props)) {\n          _this.zoomOut(point);\n          (0, _Utils.tryCancelEvent)(event);\n        }\n      } else if (event.deltaY < 0) {\n        if (_this.state.scale < _this.props.maxScale) {\n          _this.zoomIn(point);\n          (0, _Utils.tryCancelEvent)(event);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleImageLoad\", function (event) {\n      _this.debug('handleImageLoad');\n      _this.isImageLoaded = true;\n      _this.maybeHandleDimensionsChanged();\n      var onLoad = _react.default.Children.only(_this.props.children).props.onLoad;\n      if (typeof onLoad === 'function') {\n        onLoad(event);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleZoomInClick\", function () {\n      _this.cancelAnimation();\n      _this.zoomIn();\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleZoomOutClick\", function () {\n      _this.cancelAnimation();\n      _this.zoomOut();\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleWindowResize\", function () {\n      return _this.maybeHandleDimensionsChanged();\n    });\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleRefImage\", function (ref) {\n      if (_this.imageRef) {\n        _this.cancelAnimation();\n        _this.imageRef.removeEventListener('touchmove', _this.handleTouchMove);\n      }\n      _this.imageRef = ref;\n      if (ref) {\n        _this.imageRef.addEventListener('touchmove', _this.handleTouchMove, {\n          passive: false\n        });\n      }\n      var _React$Children$only = _react.default.Children.only(_this.props.children),\n        imageRefProp = _React$Children$only.ref;\n      (0, _Utils.setRef)(imageRefProp, ref);\n    });\n    return _this;\n  }\n  _createClass(PinchZoomPan, [{\n    key: \"pointerDown\",\n    //actions\n    value: function pointerDown(clientPosition) {\n      this.lastPanPointerPosition = (0, _Utils.getRelativePosition)(clientPosition, this.imageRef.parentNode);\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(pointerClientPosition) {\n      if (!this.isTransformInitialized) {\n        return;\n      }\n      if (!this.lastPanPointerPosition) {\n        //if we were pinching and lifted a finger\n        this.pointerDown(pointerClientPosition);\n        return 0;\n      }\n      var pointerPosition = (0, _Utils.getRelativePosition)(pointerClientPosition, this.imageRef.parentNode);\n      var translateX = pointerPosition.x - this.lastPanPointerPosition.x;\n      var translateY = pointerPosition.y - this.lastPanPointerPosition.y;\n      this.lastPanPointerPosition = pointerPosition;\n      var top = this.state.top + translateY;\n      var left = this.state.left + translateX;\n      this.constrainAndApplyTransform(top, left, this.state.scale, 0, 0);\n      return {\n        up: translateY > 0 ? translateY : 0,\n        down: translateY < 0 ? (0, _Utils.negate)(translateY) : 0,\n        right: translateX < 0 ? (0, _Utils.negate)(translateX) : 0,\n        left: translateX > 0 ? translateX : 0\n      };\n    }\n  }, {\n    key: \"doubleClick\",\n    value: function doubleClick(pointerPosition) {\n      if (String(this.props.doubleTapBehavior).toLowerCase() === 'zoom' && this.state.scale * (1 + OVERZOOM_TOLERANCE) < this.props.maxScale) {\n        this.zoomIn(pointerPosition, ANIMATION_SPEED, 0.3);\n      } else {\n        //reset\n        this.applyInitialTransform(ANIMATION_SPEED);\n      }\n    }\n  }, {\n    key: \"pinchChange\",\n    value: function pinchChange(touches) {\n      var length = (0, _Utils.getPinchLength)(touches);\n      var midpoint = (0, _Utils.getPinchMidpoint)(touches);\n      var scale = this.lastPinchLength ? this.state.scale * length / this.lastPinchLength //sometimes we get a touchchange before a touchstart when pinching\n      : this.state.scale;\n      this.zoom(scale, midpoint, OVERZOOM_TOLERANCE);\n      this.lastPinchLength = length;\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn(midpoint) {\n      var speed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var factor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.1;\n      midpoint = midpoint || {\n        x: this.state.containerDimensions.width / 2,\n        y: this.state.containerDimensions.height / 2\n      };\n      this.zoom(this.state.scale * (1 + factor), midpoint, 0, speed);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut(midpoint) {\n      midpoint = midpoint || {\n        x: this.state.containerDimensions.width / 2,\n        y: this.state.containerDimensions.height / 2\n      };\n      this.zoom(this.state.scale * 0.9, midpoint, 0);\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(requestedScale, containerRelativePoint, tolerance) {\n      var speed = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      if (!this.isTransformInitialized) {\n        return;\n      }\n      var _this$state = this.state,\n        scale = _this$state.scale,\n        top = _this$state.top,\n        left = _this$state.left;\n      var imageRelativePoint = {\n        top: containerRelativePoint.y - top,\n        left: containerRelativePoint.x - left\n      };\n      var nextScale = this.getConstrainedScale(requestedScale, tolerance);\n      var incrementalScalePercentage = (nextScale - scale) / scale;\n      var translateY = imageRelativePoint.top * incrementalScalePercentage;\n      var translateX = imageRelativePoint.left * incrementalScalePercentage;\n      var nextTop = top - translateY;\n      var nextLeft = left - translateX;\n      this.constrainAndApplyTransform(nextTop, nextLeft, nextScale, tolerance, speed);\n    } //compare stored dimensions to actual dimensions; capture actual dimensions if different\n  }, {\n    key: \"maybeHandleDimensionsChanged\",\n    value: function maybeHandleDimensionsChanged() {\n      var _this2 = this;\n      if (this.isImageReady) {\n        var containerDimensions = (0, _Utils.getContainerDimensions)(this.imageRef);\n        var imageDimensions = (0, _Utils.getDimensions)(this.imageRef);\n        if (!(0, _Utils.isEqualDimensions)(containerDimensions, (0, _Utils.getDimensions)(this.state.containerDimensions)) || !(0, _Utils.isEqualDimensions)(imageDimensions, (0, _Utils.getDimensions)(this.state.imageDimensions))) {\n          this.cancelAnimation(); //capture new dimensions\n\n          this.setState({\n            containerDimensions: containerDimensions,\n            imageDimensions: imageDimensions\n          }, function () {\n            //When image loads and image dimensions are first established, apply initial transform.\n            //If dimensions change, constraints change; current transform may need to be adjusted.\n            //Transforms depend on state, so wait until state is updated.\n            if (!_this2.isTransformInitialized) {\n              _this2.applyInitialTransform();\n            } else {\n              _this2.maybeAdjustCurrentTransform();\n            }\n          });\n          this.debug(\"Dimensions changed: Container: \".concat(containerDimensions.width, \", \").concat(containerDimensions.height, \", Image: \").concat(imageDimensions.width, \", \").concat(imageDimensions.height));\n        }\n      } else {\n        this.debug('Image not loaded');\n      }\n    } //transformation methods\n    //Zooming and panning cause transform to be requested.\n  }, {\n    key: \"constrainAndApplyTransform\",\n    value: function constrainAndApplyTransform(requestedTop, requestedLeft, requestedScale, tolerance) {\n      var speed = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n      var requestedTransform = {\n        top: requestedTop,\n        left: requestedLeft,\n        scale: requestedScale\n      };\n      this.debug(\"Requesting transform: left \".concat(requestedLeft, \", top \").concat(requestedTop, \", scale \").concat(requestedScale)); //Correct the transform if needed to prevent overpanning and overzooming\n\n      var transform = this.getCorrectedTransform(requestedTransform, tolerance) || requestedTransform;\n      this.debug(\"Applying transform: left \".concat(transform.left, \", top \").concat(transform.top, \", scale \").concat(transform.scale));\n      if ((0, _Utils.isEqualTransform)(transform, this.state)) {\n        return false;\n      }\n      this.applyTransform(transform, speed);\n      return true;\n    }\n  }, {\n    key: \"applyTransform\",\n    value: function applyTransform(_ref, speed) {\n      var _this3 = this;\n      var top = _ref.top,\n        left = _ref.left,\n        scale = _ref.scale;\n      if (speed > 0) {\n        var frame = function frame() {\n          var translateY = top - _this3.state.top;\n          var translateX = left - _this3.state.left;\n          var translateScale = scale - _this3.state.scale;\n          var nextTransform = {\n            top: (0, _Utils.snapToTarget)(_this3.state.top + speed * translateY, top, 1),\n            left: (0, _Utils.snapToTarget)(_this3.state.left + speed * translateX, left, 1),\n            scale: (0, _Utils.snapToTarget)(_this3.state.scale + speed * translateScale, scale, 0.001)\n          }; //animation runs until we reach the target\n\n          if (!(0, _Utils.isEqualTransform)(nextTransform, _this3.state)) {\n            _this3.setState(nextTransform, function () {\n              return _this3.animation = requestAnimationFrame(frame);\n            });\n          }\n        };\n        this.animation = requestAnimationFrame(frame);\n      } else {\n        this.setState({\n          top: top,\n          left: left,\n          scale: scale\n        });\n      }\n    } //Returns constrained scale when requested scale is outside min/max with tolerance, otherwise returns requested scale\n  }, {\n    key: \"getConstrainedScale\",\n    value: function getConstrainedScale(requestedScale, tolerance) {\n      var lowerBoundFactor = 1.0 - tolerance;\n      var upperBoundFactor = 1.0 + tolerance;\n      return (0, _Utils.constrain)((0, _Utils.getMinScale)(this.state, this.props) * lowerBoundFactor, this.props.maxScale * upperBoundFactor, requestedScale);\n    } //Returns constrained transform when requested transform is outside constraints with tolerance, otherwise returns null\n  }, {\n    key: \"getCorrectedTransform\",\n    value: function getCorrectedTransform(requestedTransform, tolerance) {\n      var scale = this.getConstrainedScale(requestedTransform.scale, tolerance); //get dimensions by which scaled image overflows container\n\n      var negativeSpace = this.calculateNegativeSpace(scale);\n      var overflow = {\n        width: Math.max(0, (0, _Utils.negate)(negativeSpace.width)),\n        height: Math.max(0, (0, _Utils.negate)(negativeSpace.height))\n      }; //if image overflows container, prevent moving by more than the overflow\n      //example: overflow.height = 100, tolerance = 0.05 => top is constrained between -105 and +5\n\n      var _this$props = this.props,\n        position = _this$props.position,\n        initialTop = _this$props.initialTop,\n        initialLeft = _this$props.initialLeft;\n      var _this$state2 = this.state,\n        imageDimensions = _this$state2.imageDimensions,\n        containerDimensions = _this$state2.containerDimensions;\n      var upperBoundFactor = 1.0 + tolerance;\n      var top = overflow.height ? (0, _Utils.constrain)((0, _Utils.negate)(overflow.height) * upperBoundFactor, overflow.height * upperBoundFactor - overflow.height, requestedTransform.top) : position === 'center' ? (containerDimensions.height - imageDimensions.height * scale) / 2 : initialTop || 0;\n      var left = overflow.width ? (0, _Utils.constrain)((0, _Utils.negate)(overflow.width) * upperBoundFactor, overflow.width * upperBoundFactor - overflow.width, requestedTransform.left) : position === 'center' ? (containerDimensions.width - imageDimensions.width * scale) / 2 : initialLeft || 0;\n      var constrainedTransform = {\n        top: top,\n        left: left,\n        scale: scale\n      };\n      return (0, _Utils.isEqualTransform)(constrainedTransform, requestedTransform) ? null : constrainedTransform;\n    } //Ensure current transform is within constraints\n  }, {\n    key: \"maybeAdjustCurrentTransform\",\n    value: function maybeAdjustCurrentTransform() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var correctedTransform;\n      if (correctedTransform = this.getCorrectedTransform(this.state, 0)) {\n        this.applyTransform(correctedTransform, speed);\n      }\n    }\n  }, {\n    key: \"applyInitialTransform\",\n    value: function applyInitialTransform() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _this$state3 = this.state,\n        imageDimensions = _this$state3.imageDimensions,\n        containerDimensions = _this$state3.containerDimensions;\n      var _this$props2 = this.props,\n        position = _this$props2.position,\n        initialScale = _this$props2.initialScale,\n        maxScale = _this$props2.maxScale,\n        initialTop = _this$props2.initialTop,\n        initialLeft = _this$props2.initialLeft;\n      var scale = String(initialScale).toLowerCase() === 'auto' ? (0, _Utils.getAutofitScale)(containerDimensions, imageDimensions) : initialScale;\n      var minScale = (0, _Utils.getMinScale)(this.state, this.props);\n      if (minScale > maxScale) {\n        (0, _warning.default)(false, 'minScale cannot exceed maxScale.');\n        return;\n      }\n      if (scale < minScale || scale > maxScale) {\n        (0, _warning.default)(false, 'initialScale must be between minScale and maxScale.');\n        return;\n      }\n      var initialPosition;\n      if (position === 'center') {\n        (0, _warning.default)(initialTop === undefined, 'initialTop prop should not be supplied with position=center. It was ignored.');\n        (0, _warning.default)(initialLeft === undefined, 'initialLeft prop should not be supplied with position=center. It was ignored.');\n        initialPosition = {\n          top: (containerDimensions.width - imageDimensions.width * scale) / 2,\n          left: (containerDimensions.height - imageDimensions.height * scale) / 2\n        };\n      } else {\n        initialPosition = {\n          top: initialTop || 0,\n          left: initialLeft || 0\n        };\n      }\n      this.constrainAndApplyTransform(initialPosition.top, initialPosition.left, scale, 0, speed);\n    } //lifecycle methods\n  }, {\n    key: \"render\",\n    value: function render() {\n      var childElement = _react.default.Children.only(this.props.children);\n      var _this$props3 = this.props,\n        zoomButtons = _this$props3.zoomButtons,\n        maxScale = _this$props3.maxScale,\n        debug = _this$props3.debug;\n      var scale = this.state.scale;\n      var touchAction = this.controlOverscrollViaCss ? browserPanActions(this.state) || 'none' : undefined;\n      var containerStyle = {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n        touchAction: touchAction\n      };\n      return _react.default.createElement(\"div\", {\n        style: containerStyle\n      }, zoomButtons && this.isImageReady && this.isTransformInitialized && _react.default.createElement(_ZoomButtons.default, {\n        scale: scale,\n        minScale: (0, _Utils.getMinScale)(this.state, this.props),\n        maxScale: maxScale,\n        onZoomOutClick: this.handleZoomOutClick,\n        onZoomInClick: this.handleZoomInClick\n      }), debug && _react.default.createElement(_StateDebugView.default, _extends({}, this.state, {\n        overflow: imageOverflow(this.state)\n      })), _react.default.cloneElement(childElement, {\n        onTouchStart: this.handleTouchStart,\n        onTouchEnd: this.handleTouchEnd,\n        onMouseDown: this.handleMouseDown,\n        onMouseMove: this.handleMouseMove,\n        onDoubleClick: this.handleMouseDoubleClick,\n        onWheel: this.handleMouseWheel,\n        onDragStart: _Utils.tryCancelEvent,\n        onLoad: this.handleImageLoad,\n        onContextMenu: _Utils.tryCancelEvent,\n        ref: this.handleRefImage,\n        style: imageStyle(this.state)\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"resize\", this.handleWindowResize);\n      this.maybeHandleDimensionsChanged();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this.maybeHandleDimensionsChanged();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelAnimation();\n      this.imageRef.removeEventListener('touchmove', this.handleTouchMove);\n      window.removeEventListener('resize', this.handleWindowResize);\n    }\n  }, {\n    key: \"calculateNegativeSpace\",\n    value: function calculateNegativeSpace(scale) {\n      //get difference in dimension between container and scaled image\n      var _this$state4 = this.state,\n        containerDimensions = _this$state4.containerDimensions,\n        imageDimensions = _this$state4.imageDimensions;\n      var width = containerDimensions.width - scale * imageDimensions.width;\n      var height = containerDimensions.height - scale * imageDimensions.height;\n      return {\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"cancelAnimation\",\n    value: function cancelAnimation() {\n      if (this.animation) {\n        cancelAnimationFrame(this.animation);\n      }\n    }\n  }, {\n    key: \"debug\",\n    value: function debug(message) {\n      if (this.props.debug) {\n        console.log(message);\n      }\n    }\n  }, {\n    key: \"isImageReady\",\n    get: function get() {\n      return this.isImageLoaded || this.imageRef && this.imageRef.tagName !== 'IMG';\n    }\n  }, {\n    key: \"isTransformInitialized\",\n    get: function get() {\n      return isInitialized(this.state.top, this.state.left, this.state.scale);\n    }\n  }, {\n    key: \"controlOverscrollViaCss\",\n    get: function get() {\n      return window.CSS && window.CSS.supports('touch-action', 'pan-up');\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.initialTop !== prevState.initialTop || nextProps.initialLeft !== prevState.initialLeft || nextProps.initialScale !== prevState.initialScale || nextProps.position !== prevState.position) {\n        return {\n          position: nextProps.position,\n          initialScale: nextProps.initialScale,\n          initialTop: nextProps.initialTop,\n          initialLeft: nextProps.initialLeft\n        };\n      } else {\n        return null;\n      }\n    }\n  }]);\n  return PinchZoomPan;\n}(_react.default.Component);\nexports.default = PinchZoomPan;\nPinchZoomPan.defaultProps = {\n  initialScale: 'auto',\n  minScale: 'auto',\n  maxScale: 1,\n  position: 'topLeft',\n  zoomButtons: true,\n  doubleTapBehavior: 'reset'\n};\nPinchZoomPan.propTypes = {\n  children: _propTypes.default.element.isRequired,\n  initialScale: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  minScale: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  maxScale: _propTypes.default.number,\n  position: _propTypes.default.oneOf(['topLeft', 'center']),\n  zoomButtons: _propTypes.default.bool,\n  doubleTapBehavior: _propTypes.default.oneOf(['reset', 'zoom']),\n  initialTop: _propTypes.default.number,\n  initialLeft: _propTypes.default.number\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_propTypes","_reselect","_warning","_ZoomButtons","_StateDebugView","_Utils","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","ReferenceError","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_defineProperty","OVERZOOM_TOLERANCE","DOUBLE_TAP_THRESHOLD","ANIMATION_SPEED","isInitialized","top","left","scale","undefined","imageStyle","createSelector","state","style","cursor","transform","transformOrigin","imageOverflow","imageDimensions","containerDimensions","getImageOverflow","browserPanActions","browserPanX","right","browserPanY","bottom","join","trim","PinchZoomPan","_React$Component","_getPrototypeOf2","_this","_len","args","Array","_key","event","cancelAnimation","touches","lastPinchLength","getPinchLength","lastPanPointerPosition","pointerDown","tryCancelEvent","pinchChange","requestedPan","pan","controlOverscrollViaCss","overflow","hasOverflowX","hasOverflowY","up","down","panX","panY","changedTouches","lastPointerUpTimeStamp","timeStamp","pointerPosition","getRelativePosition","imageRef","parentNode","doubleClick","maybeAdjustCurrentTransform","buttons","point","deltaY","getMinScale","zoomOut","maxScale","zoomIn","debug","isImageLoaded","maybeHandleDimensionsChanged","onLoad","Children","only","children","ref","removeEventListener","handleTouchMove","addEventListener","passive","_React$Children$only","imageRefProp","setRef","clientPosition","pointerClientPosition","isTransformInitialized","translateX","x","translateY","y","constrainAndApplyTransform","negate","String","doubleTapBehavior","toLowerCase","applyInitialTransform","midpoint","getPinchMidpoint","zoom","speed","factor","width","height","requestedScale","containerRelativePoint","tolerance","_this$state","imageRelativePoint","nextScale","getConstrainedScale","incrementalScalePercentage","nextTop","nextLeft","_this2","isImageReady","getContainerDimensions","getDimensions","isEqualDimensions","setState","requestedTop","requestedLeft","requestedTransform","getCorrectedTransform","isEqualTransform","applyTransform","_ref","_this3","frame","translateScale","nextTransform","snapToTarget","animation","requestAnimationFrame","lowerBoundFactor","upperBoundFactor","constrain","negativeSpace","calculateNegativeSpace","Math","max","_this$props","position","initialTop","initialLeft","_this$state2","constrainedTransform","correctedTransform","_this$state3","_this$props2","initialScale","getAutofitScale","minScale","initialPosition","render","childElement","_this$props3","zoomButtons","touchAction","containerStyle","createElement","onZoomOutClick","handleZoomOutClick","onZoomInClick","handleZoomInClick","cloneElement","onTouchStart","handleTouchStart","onTouchEnd","handleTouchEnd","onMouseDown","handleMouseDown","onMouseMove","handleMouseMove","onDoubleClick","handleMouseDoubleClick","onWheel","handleMouseWheel","onDragStart","handleImageLoad","onContextMenu","handleRefImage","componentDidMount","window","handleWindowResize","componentDidUpdate","prevProps","prevState","componentWillUnmount","_this$state4","cancelAnimationFrame","message","console","log","get","tagName","CSS","supports","getDerivedStateFromProps","nextProps","Component","defaultProps","propTypes","element","isRequired","oneOfType","number","string","oneOf","bool"],"sources":["/Users/arricodyanto/Dev/react-mapp/node_modules/react-responsive-pinch-zoom-pan/dist/PinchZoomPan.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reselect = require(\"reselect\");\n\nvar _warning = _interopRequireDefault(require(\"warning\"));\n\nvar _ZoomButtons = _interopRequireDefault(require(\"./ZoomButtons\"));\n\nvar _StateDebugView = _interopRequireDefault(require(\"./StateDebugView\"));\n\nvar _Utils = require(\"./Utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar OVERZOOM_TOLERANCE = 0.05;\nvar DOUBLE_TAP_THRESHOLD = 250;\nvar ANIMATION_SPEED = 0.1;\n\nvar isInitialized = function isInitialized(top, left, scale) {\n  return scale !== undefined && left !== undefined && top !== undefined;\n};\n\nvar imageStyle = (0, _reselect.createSelector)(function (state) {\n  return state.top;\n}, function (state) {\n  return state.left;\n}, function (state) {\n  return state.scale;\n}, function (top, left, scale) {\n  var style = {\n    cursor: 'pointer'\n  };\n  return isInitialized(top, left, scale) ? _objectSpread({}, style, {\n    transform: \"translate3d(\".concat(left, \"px, \").concat(top, \"px, 0) scale(\").concat(scale, \")\"),\n    transformOrigin: '0 0'\n  }) : style;\n});\nvar imageOverflow = (0, _reselect.createSelector)(function (state) {\n  return state.top;\n}, function (state) {\n  return state.left;\n}, function (state) {\n  return state.scale;\n}, function (state) {\n  return state.imageDimensions;\n}, function (state) {\n  return state.containerDimensions;\n}, function (top, left, scale, imageDimensions, containerDimensions) {\n  if (!isInitialized(top, left, scale)) {\n    return '';\n  }\n\n  return (0, _Utils.getImageOverflow)(top, left, scale, imageDimensions, containerDimensions);\n});\nvar browserPanActions = (0, _reselect.createSelector)(imageOverflow, function (imageOverflow) {\n  //Determine the panning directions where there is no image overflow and let\n  //the browser handle those directions (e.g., scroll viewport if possible).\n  //Need to replace 'pan-left pan-right' with 'pan-x', etc. otherwise \n  //it is rejected (o_O), therefore explicitly handle each combination.\n  var browserPanX = !imageOverflow.left && !imageOverflow.right ? 'pan-x' //we can't pan the image horizontally, let the browser take it\n  : !imageOverflow.left ? 'pan-left' : !imageOverflow.right ? 'pan-right' : '';\n  var browserPanY = !imageOverflow.top && !imageOverflow.bottom ? 'pan-y' : !imageOverflow.top ? 'pan-up' : !imageOverflow.bottom ? 'pan-down' : '';\n  return [browserPanX, browserPanY].join(' ').trim();\n}); //Ensure the image is not over-panned, and not over- or under-scaled.\n//These constraints must be checked when image changes, and when container is resized.\n\nvar PinchZoomPan =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PinchZoomPan, _React$Component);\n\n  function PinchZoomPan() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PinchZoomPan);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PinchZoomPan)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"lastPointerUpTimeStamp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"lastPanPointerPosition\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"lastPinchLength\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"animation\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"imageRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isImageLoaded\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"originalOverscrollBehaviorY\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleTouchStart\", function (event) {\n      _this.cancelAnimation();\n\n      var touches = event.touches;\n\n      if (touches.length === 2) {\n        _this.lastPinchLength = (0, _Utils.getPinchLength)(touches);\n        _this.lastPanPointerPosition = null;\n      } else if (touches.length === 1) {\n        _this.lastPinchLength = null;\n\n        _this.pointerDown(touches[0]);\n\n        (0, _Utils.tryCancelEvent)(event); //suppress mouse events\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleTouchMove\", function (event) {\n      var touches = event.touches;\n\n      if (touches.length === 2) {\n        _this.pinchChange(touches); //suppress viewport scaling on iOS\n\n\n        (0, _Utils.tryCancelEvent)(event);\n      } else if (touches.length === 1) {\n        var requestedPan = _this.pan(touches[0]);\n\n        if (!_this.controlOverscrollViaCss) {\n          //let the browser handling panning if we are at the edge of the image in \n          //both pan directions, or if we are primarily panning in one direction\n          //and are at the edge in that directino\n          var overflow = imageOverflow(_this.state);\n          var hasOverflowX = requestedPan.left && overflow.left > 0 || requestedPan.right && overflow.right > 0;\n          var hasOverflowY = requestedPan.up && overflow.top > 0 || requestedPan.down && overflow.bottom > 0;\n\n          if (!hasOverflowX && !hasOverflowY) {\n            //no overflow in both directions\n            return;\n          }\n\n          var panX = requestedPan.left || requestedPan.right;\n          var panY = requestedPan.up || requestedPan.down;\n\n          if (panY > 2 * panX && !hasOverflowY) {\n            //primarily panning up or down and no overflow in the Y direction\n            return;\n          }\n\n          if (panX > 2 * panY && !hasOverflowX) {\n            //primarily panning left or right and no overflow in the X direction\n            return;\n          }\n\n          (0, _Utils.tryCancelEvent)(event);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleTouchEnd\", function (event) {\n      _this.cancelAnimation();\n\n      if (event.touches.length === 0 && event.changedTouches.length === 1) {\n        if (_this.lastPointerUpTimeStamp && _this.lastPointerUpTimeStamp + DOUBLE_TAP_THRESHOLD > event.timeStamp) {\n          var pointerPosition = (0, _Utils.getRelativePosition)(event.changedTouches[0], _this.imageRef.parentNode);\n\n          _this.doubleClick(pointerPosition);\n        }\n\n        _this.lastPointerUpTimeStamp = event.timeStamp;\n        (0, _Utils.tryCancelEvent)(event); //suppress mouse events\n      } //We allow transient +/-5% over-pinching.\n      //Animate the bounce back to constraints if applicable.\n\n\n      _this.maybeAdjustCurrentTransform(ANIMATION_SPEED);\n\n      return;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseDown\", function (event) {\n      _this.cancelAnimation();\n\n      _this.pointerDown(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseMove\", function (event) {\n      if (!event.buttons) return null;\n\n      _this.pan(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseDoubleClick\", function (event) {\n      _this.cancelAnimation();\n\n      var pointerPosition = (0, _Utils.getRelativePosition)(event, _this.imageRef.parentNode);\n\n      _this.doubleClick(pointerPosition);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseWheel\", function (event) {\n      _this.cancelAnimation();\n\n      var point = (0, _Utils.getRelativePosition)(event, _this.imageRef.parentNode);\n\n      if (event.deltaY > 0) {\n        if (_this.state.scale > (0, _Utils.getMinScale)(_this.state, _this.props)) {\n          _this.zoomOut(point);\n\n          (0, _Utils.tryCancelEvent)(event);\n        }\n      } else if (event.deltaY < 0) {\n        if (_this.state.scale < _this.props.maxScale) {\n          _this.zoomIn(point);\n\n          (0, _Utils.tryCancelEvent)(event);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleImageLoad\", function (event) {\n      _this.debug('handleImageLoad');\n\n      _this.isImageLoaded = true;\n\n      _this.maybeHandleDimensionsChanged();\n\n      var onLoad = _react.default.Children.only(_this.props.children).props.onLoad;\n\n      if (typeof onLoad === 'function') {\n        onLoad(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleZoomInClick\", function () {\n      _this.cancelAnimation();\n\n      _this.zoomIn();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleZoomOutClick\", function () {\n      _this.cancelAnimation();\n\n      _this.zoomOut();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleWindowResize\", function () {\n      return _this.maybeHandleDimensionsChanged();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleRefImage\", function (ref) {\n      if (_this.imageRef) {\n        _this.cancelAnimation();\n\n        _this.imageRef.removeEventListener('touchmove', _this.handleTouchMove);\n      }\n\n      _this.imageRef = ref;\n\n      if (ref) {\n        _this.imageRef.addEventListener('touchmove', _this.handleTouchMove, {\n          passive: false\n        });\n      }\n\n      var _React$Children$only = _react.default.Children.only(_this.props.children),\n          imageRefProp = _React$Children$only.ref;\n\n      (0, _Utils.setRef)(imageRefProp, ref);\n    });\n\n    return _this;\n  }\n\n  _createClass(PinchZoomPan, [{\n    key: \"pointerDown\",\n    //actions\n    value: function pointerDown(clientPosition) {\n      this.lastPanPointerPosition = (0, _Utils.getRelativePosition)(clientPosition, this.imageRef.parentNode);\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(pointerClientPosition) {\n      if (!this.isTransformInitialized) {\n        return;\n      }\n\n      if (!this.lastPanPointerPosition) {\n        //if we were pinching and lifted a finger\n        this.pointerDown(pointerClientPosition);\n        return 0;\n      }\n\n      var pointerPosition = (0, _Utils.getRelativePosition)(pointerClientPosition, this.imageRef.parentNode);\n      var translateX = pointerPosition.x - this.lastPanPointerPosition.x;\n      var translateY = pointerPosition.y - this.lastPanPointerPosition.y;\n      this.lastPanPointerPosition = pointerPosition;\n      var top = this.state.top + translateY;\n      var left = this.state.left + translateX;\n      this.constrainAndApplyTransform(top, left, this.state.scale, 0, 0);\n      return {\n        up: translateY > 0 ? translateY : 0,\n        down: translateY < 0 ? (0, _Utils.negate)(translateY) : 0,\n        right: translateX < 0 ? (0, _Utils.negate)(translateX) : 0,\n        left: translateX > 0 ? translateX : 0\n      };\n    }\n  }, {\n    key: \"doubleClick\",\n    value: function doubleClick(pointerPosition) {\n      if (String(this.props.doubleTapBehavior).toLowerCase() === 'zoom' && this.state.scale * (1 + OVERZOOM_TOLERANCE) < this.props.maxScale) {\n        this.zoomIn(pointerPosition, ANIMATION_SPEED, 0.3);\n      } else {\n        //reset\n        this.applyInitialTransform(ANIMATION_SPEED);\n      }\n    }\n  }, {\n    key: \"pinchChange\",\n    value: function pinchChange(touches) {\n      var length = (0, _Utils.getPinchLength)(touches);\n      var midpoint = (0, _Utils.getPinchMidpoint)(touches);\n      var scale = this.lastPinchLength ? this.state.scale * length / this.lastPinchLength //sometimes we get a touchchange before a touchstart when pinching\n      : this.state.scale;\n      this.zoom(scale, midpoint, OVERZOOM_TOLERANCE);\n      this.lastPinchLength = length;\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn(midpoint) {\n      var speed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var factor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.1;\n      midpoint = midpoint || {\n        x: this.state.containerDimensions.width / 2,\n        y: this.state.containerDimensions.height / 2\n      };\n      this.zoom(this.state.scale * (1 + factor), midpoint, 0, speed);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut(midpoint) {\n      midpoint = midpoint || {\n        x: this.state.containerDimensions.width / 2,\n        y: this.state.containerDimensions.height / 2\n      };\n      this.zoom(this.state.scale * 0.9, midpoint, 0);\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(requestedScale, containerRelativePoint, tolerance) {\n      var speed = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n      if (!this.isTransformInitialized) {\n        return;\n      }\n\n      var _this$state = this.state,\n          scale = _this$state.scale,\n          top = _this$state.top,\n          left = _this$state.left;\n      var imageRelativePoint = {\n        top: containerRelativePoint.y - top,\n        left: containerRelativePoint.x - left\n      };\n      var nextScale = this.getConstrainedScale(requestedScale, tolerance);\n      var incrementalScalePercentage = (nextScale - scale) / scale;\n      var translateY = imageRelativePoint.top * incrementalScalePercentage;\n      var translateX = imageRelativePoint.left * incrementalScalePercentage;\n      var nextTop = top - translateY;\n      var nextLeft = left - translateX;\n      this.constrainAndApplyTransform(nextTop, nextLeft, nextScale, tolerance, speed);\n    } //compare stored dimensions to actual dimensions; capture actual dimensions if different\n\n  }, {\n    key: \"maybeHandleDimensionsChanged\",\n    value: function maybeHandleDimensionsChanged() {\n      var _this2 = this;\n\n      if (this.isImageReady) {\n        var containerDimensions = (0, _Utils.getContainerDimensions)(this.imageRef);\n        var imageDimensions = (0, _Utils.getDimensions)(this.imageRef);\n\n        if (!(0, _Utils.isEqualDimensions)(containerDimensions, (0, _Utils.getDimensions)(this.state.containerDimensions)) || !(0, _Utils.isEqualDimensions)(imageDimensions, (0, _Utils.getDimensions)(this.state.imageDimensions))) {\n          this.cancelAnimation(); //capture new dimensions\n\n          this.setState({\n            containerDimensions: containerDimensions,\n            imageDimensions: imageDimensions\n          }, function () {\n            //When image loads and image dimensions are first established, apply initial transform.\n            //If dimensions change, constraints change; current transform may need to be adjusted.\n            //Transforms depend on state, so wait until state is updated.\n            if (!_this2.isTransformInitialized) {\n              _this2.applyInitialTransform();\n            } else {\n              _this2.maybeAdjustCurrentTransform();\n            }\n          });\n          this.debug(\"Dimensions changed: Container: \".concat(containerDimensions.width, \", \").concat(containerDimensions.height, \", Image: \").concat(imageDimensions.width, \", \").concat(imageDimensions.height));\n        }\n      } else {\n        this.debug('Image not loaded');\n      }\n    } //transformation methods\n    //Zooming and panning cause transform to be requested.\n\n  }, {\n    key: \"constrainAndApplyTransform\",\n    value: function constrainAndApplyTransform(requestedTop, requestedLeft, requestedScale, tolerance) {\n      var speed = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n      var requestedTransform = {\n        top: requestedTop,\n        left: requestedLeft,\n        scale: requestedScale\n      };\n      this.debug(\"Requesting transform: left \".concat(requestedLeft, \", top \").concat(requestedTop, \", scale \").concat(requestedScale)); //Correct the transform if needed to prevent overpanning and overzooming\n\n      var transform = this.getCorrectedTransform(requestedTransform, tolerance) || requestedTransform;\n      this.debug(\"Applying transform: left \".concat(transform.left, \", top \").concat(transform.top, \", scale \").concat(transform.scale));\n\n      if ((0, _Utils.isEqualTransform)(transform, this.state)) {\n        return false;\n      }\n\n      this.applyTransform(transform, speed);\n      return true;\n    }\n  }, {\n    key: \"applyTransform\",\n    value: function applyTransform(_ref, speed) {\n      var _this3 = this;\n\n      var top = _ref.top,\n          left = _ref.left,\n          scale = _ref.scale;\n\n      if (speed > 0) {\n        var frame = function frame() {\n          var translateY = top - _this3.state.top;\n          var translateX = left - _this3.state.left;\n          var translateScale = scale - _this3.state.scale;\n          var nextTransform = {\n            top: (0, _Utils.snapToTarget)(_this3.state.top + speed * translateY, top, 1),\n            left: (0, _Utils.snapToTarget)(_this3.state.left + speed * translateX, left, 1),\n            scale: (0, _Utils.snapToTarget)(_this3.state.scale + speed * translateScale, scale, 0.001)\n          }; //animation runs until we reach the target\n\n          if (!(0, _Utils.isEqualTransform)(nextTransform, _this3.state)) {\n            _this3.setState(nextTransform, function () {\n              return _this3.animation = requestAnimationFrame(frame);\n            });\n          }\n        };\n\n        this.animation = requestAnimationFrame(frame);\n      } else {\n        this.setState({\n          top: top,\n          left: left,\n          scale: scale\n        });\n      }\n    } //Returns constrained scale when requested scale is outside min/max with tolerance, otherwise returns requested scale\n\n  }, {\n    key: \"getConstrainedScale\",\n    value: function getConstrainedScale(requestedScale, tolerance) {\n      var lowerBoundFactor = 1.0 - tolerance;\n      var upperBoundFactor = 1.0 + tolerance;\n      return (0, _Utils.constrain)((0, _Utils.getMinScale)(this.state, this.props) * lowerBoundFactor, this.props.maxScale * upperBoundFactor, requestedScale);\n    } //Returns constrained transform when requested transform is outside constraints with tolerance, otherwise returns null\n\n  }, {\n    key: \"getCorrectedTransform\",\n    value: function getCorrectedTransform(requestedTransform, tolerance) {\n      var scale = this.getConstrainedScale(requestedTransform.scale, tolerance); //get dimensions by which scaled image overflows container\n\n      var negativeSpace = this.calculateNegativeSpace(scale);\n      var overflow = {\n        width: Math.max(0, (0, _Utils.negate)(negativeSpace.width)),\n        height: Math.max(0, (0, _Utils.negate)(negativeSpace.height))\n      }; //if image overflows container, prevent moving by more than the overflow\n      //example: overflow.height = 100, tolerance = 0.05 => top is constrained between -105 and +5\n\n      var _this$props = this.props,\n          position = _this$props.position,\n          initialTop = _this$props.initialTop,\n          initialLeft = _this$props.initialLeft;\n      var _this$state2 = this.state,\n          imageDimensions = _this$state2.imageDimensions,\n          containerDimensions = _this$state2.containerDimensions;\n      var upperBoundFactor = 1.0 + tolerance;\n      var top = overflow.height ? (0, _Utils.constrain)((0, _Utils.negate)(overflow.height) * upperBoundFactor, overflow.height * upperBoundFactor - overflow.height, requestedTransform.top) : position === 'center' ? (containerDimensions.height - imageDimensions.height * scale) / 2 : initialTop || 0;\n      var left = overflow.width ? (0, _Utils.constrain)((0, _Utils.negate)(overflow.width) * upperBoundFactor, overflow.width * upperBoundFactor - overflow.width, requestedTransform.left) : position === 'center' ? (containerDimensions.width - imageDimensions.width * scale) / 2 : initialLeft || 0;\n      var constrainedTransform = {\n        top: top,\n        left: left,\n        scale: scale\n      };\n      return (0, _Utils.isEqualTransform)(constrainedTransform, requestedTransform) ? null : constrainedTransform;\n    } //Ensure current transform is within constraints\n\n  }, {\n    key: \"maybeAdjustCurrentTransform\",\n    value: function maybeAdjustCurrentTransform() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var correctedTransform;\n\n      if (correctedTransform = this.getCorrectedTransform(this.state, 0)) {\n        this.applyTransform(correctedTransform, speed);\n      }\n    }\n  }, {\n    key: \"applyInitialTransform\",\n    value: function applyInitialTransform() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _this$state3 = this.state,\n          imageDimensions = _this$state3.imageDimensions,\n          containerDimensions = _this$state3.containerDimensions;\n      var _this$props2 = this.props,\n          position = _this$props2.position,\n          initialScale = _this$props2.initialScale,\n          maxScale = _this$props2.maxScale,\n          initialTop = _this$props2.initialTop,\n          initialLeft = _this$props2.initialLeft;\n      var scale = String(initialScale).toLowerCase() === 'auto' ? (0, _Utils.getAutofitScale)(containerDimensions, imageDimensions) : initialScale;\n      var minScale = (0, _Utils.getMinScale)(this.state, this.props);\n\n      if (minScale > maxScale) {\n        (0, _warning.default)(false, 'minScale cannot exceed maxScale.');\n        return;\n      }\n\n      if (scale < minScale || scale > maxScale) {\n        (0, _warning.default)(false, 'initialScale must be between minScale and maxScale.');\n        return;\n      }\n\n      var initialPosition;\n\n      if (position === 'center') {\n        (0, _warning.default)(initialTop === undefined, 'initialTop prop should not be supplied with position=center. It was ignored.');\n        (0, _warning.default)(initialLeft === undefined, 'initialLeft prop should not be supplied with position=center. It was ignored.');\n        initialPosition = {\n          top: (containerDimensions.width - imageDimensions.width * scale) / 2,\n          left: (containerDimensions.height - imageDimensions.height * scale) / 2\n        };\n      } else {\n        initialPosition = {\n          top: initialTop || 0,\n          left: initialLeft || 0\n        };\n      }\n\n      this.constrainAndApplyTransform(initialPosition.top, initialPosition.left, scale, 0, speed);\n    } //lifecycle methods\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var childElement = _react.default.Children.only(this.props.children);\n\n      var _this$props3 = this.props,\n          zoomButtons = _this$props3.zoomButtons,\n          maxScale = _this$props3.maxScale,\n          debug = _this$props3.debug;\n      var scale = this.state.scale;\n      var touchAction = this.controlOverscrollViaCss ? browserPanActions(this.state) || 'none' : undefined;\n      var containerStyle = {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n        touchAction: touchAction\n      };\n      return _react.default.createElement(\"div\", {\n        style: containerStyle\n      }, zoomButtons && this.isImageReady && this.isTransformInitialized && _react.default.createElement(_ZoomButtons.default, {\n        scale: scale,\n        minScale: (0, _Utils.getMinScale)(this.state, this.props),\n        maxScale: maxScale,\n        onZoomOutClick: this.handleZoomOutClick,\n        onZoomInClick: this.handleZoomInClick\n      }), debug && _react.default.createElement(_StateDebugView.default, _extends({}, this.state, {\n        overflow: imageOverflow(this.state)\n      })), _react.default.cloneElement(childElement, {\n        onTouchStart: this.handleTouchStart,\n        onTouchEnd: this.handleTouchEnd,\n        onMouseDown: this.handleMouseDown,\n        onMouseMove: this.handleMouseMove,\n        onDoubleClick: this.handleMouseDoubleClick,\n        onWheel: this.handleMouseWheel,\n        onDragStart: _Utils.tryCancelEvent,\n        onLoad: this.handleImageLoad,\n        onContextMenu: _Utils.tryCancelEvent,\n        ref: this.handleRefImage,\n        style: imageStyle(this.state)\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"resize\", this.handleWindowResize);\n      this.maybeHandleDimensionsChanged();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this.maybeHandleDimensionsChanged();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelAnimation();\n      this.imageRef.removeEventListener('touchmove', this.handleTouchMove);\n      window.removeEventListener('resize', this.handleWindowResize);\n    }\n  }, {\n    key: \"calculateNegativeSpace\",\n    value: function calculateNegativeSpace(scale) {\n      //get difference in dimension between container and scaled image\n      var _this$state4 = this.state,\n          containerDimensions = _this$state4.containerDimensions,\n          imageDimensions = _this$state4.imageDimensions;\n      var width = containerDimensions.width - scale * imageDimensions.width;\n      var height = containerDimensions.height - scale * imageDimensions.height;\n      return {\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"cancelAnimation\",\n    value: function cancelAnimation() {\n      if (this.animation) {\n        cancelAnimationFrame(this.animation);\n      }\n    }\n  }, {\n    key: \"debug\",\n    value: function debug(message) {\n      if (this.props.debug) {\n        console.log(message);\n      }\n    }\n  }, {\n    key: \"isImageReady\",\n    get: function get() {\n      return this.isImageLoaded || this.imageRef && this.imageRef.tagName !== 'IMG';\n    }\n  }, {\n    key: \"isTransformInitialized\",\n    get: function get() {\n      return isInitialized(this.state.top, this.state.left, this.state.scale);\n    }\n  }, {\n    key: \"controlOverscrollViaCss\",\n    get: function get() {\n      return window.CSS && window.CSS.supports('touch-action', 'pan-up');\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.initialTop !== prevState.initialTop || nextProps.initialLeft !== prevState.initialLeft || nextProps.initialScale !== prevState.initialScale || nextProps.position !== prevState.position) {\n        return {\n          position: nextProps.position,\n          initialScale: nextProps.initialScale,\n          initialTop: nextProps.initialTop,\n          initialLeft: nextProps.initialLeft\n        };\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return PinchZoomPan;\n}(_react.default.Component);\n\nexports.default = PinchZoomPan;\nPinchZoomPan.defaultProps = {\n  initialScale: 'auto',\n  minScale: 'auto',\n  maxScale: 1,\n  position: 'topLeft',\n  zoomButtons: true,\n  doubleTapBehavior: 'reset'\n};\nPinchZoomPan.propTypes = {\n  children: _propTypes.default.element.isRequired,\n  initialScale: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  minScale: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  maxScale: _propTypes.default.number,\n  position: _propTypes.default.oneOf(['topLeft', 'center']),\n  zoomButtons: _propTypes.default.bool,\n  doubleTapBehavior: _propTypes.default.oneOf(['reset', 'zoom']),\n  initialTop: _propTypes.default.number,\n  initialLeft: _propTypes.default.number\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}