{"ast":null,"code":"/**\n * Allows smooth kinetic scrolling of the surface\n */\nmodule.exports = kinetic;\nfunction kinetic(getPoint, scroll, settings) {\n  if (typeof settings !== 'object') {\n    // setting could come as boolean, we should ignore it, and use an object.\n    settings = {};\n  }\n  var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;\n  var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;\n  var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function' ? settings.cancelAnimationFrame : getCancelAnimationFrame();\n  var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function' ? settings.requestAnimationFrame : getRequestAnimationFrame();\n  var lastPoint;\n  var timestamp;\n  var timeConstant = 342;\n  var ticker;\n  var vx, targetX, ax;\n  var vy, targetY, ay;\n  var raf;\n  return {\n    start: start,\n    stop: stop,\n    cancel: dispose\n  };\n  function dispose() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n  }\n  function start() {\n    lastPoint = getPoint();\n    ax = ay = vx = vy = 0;\n    timestamp = new Date();\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n    ticker = requestAnimationFrame(track);\n  }\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n    var currentPoint = getPoint();\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n    lastPoint = currentPoint;\n    var dt = 1000 / (1 + elapsed);\n\n    // moving average\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n    ticker = requestAnimationFrame(track);\n  }\n  function stop() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n    var currentPoint = getPoint();\n    targetX = currentPoint.x;\n    targetY = currentPoint.y;\n    timestamp = Date.now();\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n      targetX += ax;\n    }\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n      targetY += ay;\n    }\n    raf = requestAnimationFrame(autoScroll);\n  }\n  function autoScroll() {\n    var elapsed = Date.now() - timestamp;\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n    if (ax) {\n      dx = -ax * Math.exp(-elapsed / timeConstant);\n      if (dx > 0.5 || dx < -0.5) moving = true;else dx = ax = 0;\n    }\n    if (ay) {\n      dy = -ay * Math.exp(-elapsed / timeConstant);\n      if (dy > 0.5 || dy < -0.5) moving = true;else dy = ay = 0;\n    }\n    if (moving) {\n      scroll(targetX + dx, targetY + dy);\n      raf = requestAnimationFrame(autoScroll);\n    }\n  }\n}\nfunction getCancelAnimationFrame() {\n  if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;\n  return clearTimeout;\n}\nfunction getRequestAnimationFrame() {\n  if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;\n  return function (handler) {\n    return setTimeout(handler, 16);\n  };\n}","map":{"version":3,"names":["module","exports","kinetic","getPoint","scroll","settings","minVelocity","amplitude","cancelAnimationFrame","getCancelAnimationFrame","requestAnimationFrame","getRequestAnimationFrame","lastPoint","timestamp","timeConstant","ticker","vx","targetX","ax","vy","targetY","ay","raf","start","stop","cancel","dispose","Date","track","now","elapsed","currentPoint","dx","x","dy","y","dt","autoScroll","moving","Math","exp","clearTimeout","handler","setTimeout"],"sources":["/Users/arricodyanto/Dev/react-mapp/node_modules/panzoom/lib/kinetic.js"],"sourcesContent":["/**\n * Allows smooth kinetic scrolling of the surface\n */\nmodule.exports = kinetic;\n\nfunction kinetic(getPoint, scroll, settings) {\n  if (typeof settings !== 'object') {\n    // setting could come as boolean, we should ignore it, and use an object.\n    settings = {};\n  }\n\n  var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;\n  var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;\n  var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function' ? settings.cancelAnimationFrame : getCancelAnimationFrame();\n  var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function' ? settings.requestAnimationFrame : getRequestAnimationFrame();\n\n  var lastPoint;\n  var timestamp;\n  var timeConstant = 342;\n\n  var ticker;\n  var vx, targetX, ax;\n  var vy, targetY, ay;\n\n  var raf;\n\n  return {\n    start: start,\n    stop: stop,\n    cancel: dispose\n  };\n\n  function dispose() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n  }\n\n  function start() {\n    lastPoint = getPoint();\n\n    ax = ay = vx = vy = 0;\n    timestamp = new Date();\n\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n    ticker = requestAnimationFrame(track);\n  }\n\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n\n    var currentPoint = getPoint();\n\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n\n    lastPoint = currentPoint;\n\n    var dt = 1000 / (1 + elapsed);\n\n    // moving average\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n\n    ticker = requestAnimationFrame(track);\n  }\n\n  function stop() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    var currentPoint = getPoint();\n\n    targetX = currentPoint.x;\n    targetY = currentPoint.y;\n    timestamp = Date.now();\n\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n      targetX += ax;\n    }\n\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n      targetY += ay;\n    }\n\n    raf = requestAnimationFrame(autoScroll);\n  }\n\n  function autoScroll() {\n    var elapsed = Date.now() - timestamp;\n\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n\n    if (ax) {\n      dx = -ax * Math.exp(-elapsed / timeConstant);\n\n      if (dx > 0.5 || dx < -0.5) moving = true;\n      else dx = ax = 0;\n    }\n\n    if (ay) {\n      dy = -ay * Math.exp(-elapsed / timeConstant);\n\n      if (dy > 0.5 || dy < -0.5) moving = true;\n      else dy = ay = 0;\n    }\n\n    if (moving) {\n      scroll(targetX + dx, targetY + dy);\n      raf = requestAnimationFrame(autoScroll);\n    }\n  }\n}\n\nfunction getCancelAnimationFrame() {\n  if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;\n  return clearTimeout;\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;\n\n  return function (handler) {\n    return setTimeout(handler, 16);\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}